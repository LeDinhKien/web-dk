{% extends "_base.html" %}
{% block title %}Add Product{% endblock %}

<!--CSS-->
{% block head %}

    <style type="text/css">
        .add-space {
            margin-top: 5px;
        }

        #summary {
            resize: vertical;
        }
    </style>

{% endblock head %}

<!-- Content -->
{% block content %}

    <div class="container wrapper">
        <div class="page-header">
            <h2>Add New Product</h2>
        </div>

        <!-- Content -->
        <form name="myForm" class="form-horizontal" role="form" action="/add_product" method="post"
              onsubmit="return validateForm()">

            <div class="form-group">

                <label class="control-label col-sm-2" for="name">Tilte:</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" name="name" id="name" placeholder="Enter product name">
                </div>

                <label class="control-label col-sm-1" for="category">Category:</label>
                <div class="col-sm-4">
                    <select class="form-control" name="category" id="category">
                        {% for category in categories %}
                            <option>{{ category.name }}</option>
                        {% endfor %}
                    </select>
                </div>

            </div>

            <div class="form-group">

                <label class="control-label col-sm-2" for="price">Price:</label>
                <div class="col-sm-5">
                    <div class="input-group">
                        <span class="input-group-addon">$</span>
                        <input type="text" class="form-control" name="price" id="price"
                               placeholder="Enter product price">
                    </div>
                </div>

                <label class="control-label col-sm-1" for="sale">Sale:</label>
                <div class="col-sm-4">
                    <div class="input-group">
                    <span class="input-group-addon">
                        <input type="checkbox" id="Box">
                    </span>
                        <input type="text" class="form-control" data-toggle="tooltip" data-placement="top"
                               id="sale" name="sale" disabled title="Enter number > 0 and < 100">
                        <span class="input-group-addon">%</span>
                    </div>
                </div>

            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="summary">Summary (Features):</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="summary" id="summary"
                              placeholder="Enter key features"></textarea>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="pic_url">Images URL:</label>
                <div class="col-sm-10">
                    <input type="url" class="form-control" name="pic_url[]" placeholder="URL">

                    <div id="extra-url">
                    </div>

                    <button id="add-field" class="btn btn-default add-space" type="button">Add field</button>
                </div>
            </div>

            <p id="demo"></p>

            <div class="form-group">
                <label class="control-label col-sm-2" for="intro">Introduction:</label>
                <div class="col-sm-10">
                    <textarea name="intro" id="intro"></textarea>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="description">Description:</label>
                <div class="col-sm-10">
                    <textarea name="description" id="description"></textarea>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="review">Review:</label>
                <div class="col-sm-10">
                    <textarea name="review" id="review"></textarea>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-10 col-sm-offset-2">
                    <input type="submit" value="Add Page">
                    <form action="/admin">
                        <input type="submit" value="Cancel">
                    </form>
                </div>
            </div>
        </form>

        <div class="push"></div>
    </div>

{% endblock content %}

<!-- Scripts -->
{% block footer %}

    <script src="//cdn.ckeditor.com/4.5.7/full/ckeditor.js"></script>
    <script src="/stylesheets/product_modify.js"></script>

    <script>
        CKEDITOR.replace('intro');
        CKEDITOR.replace('description');
        CKEDITOR.replace('review');
    </script>

    <script>
        // Remove images URL field
        function remove_field(element) {
            element.parentNode.parentNode.remove();
        }

        // Add images URL field
        $("#add-field").click(function () {
            $("#extra-url").append('<div class="input-group add-space">' +
                    '<input type="url" class="form-control" name="pic_url[]" placeholder="URL">' +
                    '<span class="input-group-btn">' +
                    '<button class="btn btn-secondary" type="button" onclick="remove_field(this)">&times;</button>' +
                    '</span>' +
                    '</div>');
        });

    </script>

{% endblock footer %}